# 프로젝트

# 아키텍쳐 설계도

<img width="429" alt="%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-08-15_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2 36 57" src="https://github.com/user-attachments/assets/1b4967c5-8320-449d-b84e-e6a990aee1fc">

⇒ 아직 도메인 까지는 정하지 못했습니다. <Br>
⇒ 하지만 기본 메인 도메인은 이커머스의
주문, 결제, 재고 시스템입니다. 

### ✅ 기능

- 1️⃣상품 결제 &구매 기능
    
    실시간 주문, 결제, 재고 업데이트 기능
    - 주문 생성 및 관리 
    - 결제 처리 
    - 재고 업데이트 
    
    ⇒ 실시간 구매이벤트 <br>
    ⇒ 상품 데이터 + 백엔드 API 요청 
    
- 2️⃣재고 처리 기능
    
    
- 3️⃣실시간 가격 조정 기능
    - 상품이 주문 될 때 마다 재고 수준 확인
    - 주문이 완료되면 재고 수준 감소 + Redis에 업뎃
    - 재고 수준이 임계값 이하로 떨어지면 알림 생성 
    
    ⇒ 실시간 구매 이벤트 (구매 수량) , 재고 데이터 
    
    Redi의 재고 데이터 캐싱 및 업데이트 사용
- 5️⃣매출 리포트 기능
    
    상품 판매 데이터를 활용한 상품 판매 리포트  <br>
    ⇒ 필요한 판매 관련 데이터를 추출 밑 변환 , 필요한 계산 수행  <br>
    ⇒ 정기적인 배치 작업으로 리포트 생성
    
- 6️⃣모니터링 대시보드 구축

### ✅ 프로젝트의 목표

---

- 실시간으로 현황이 업데이트 되어야 하며, 
그 정합성이 중요한 데이터 처리
- 대용량 주문 처리와
- 재고든 뭐든 동시성
- 결제에서의 트랜잭션 무결성 + 금액 정확성을 
구현
- 객체지향 원리와 유지보수에 정확한 코드를 작성하는 것.
- Docker와 CI/CD를 기반으로 환경 설정과 자동화를 구현하여 협업이 가능한 프로젝트로 만들고 싶습니당.
- 가능하다면 Spring Batch나 Spark를 사용해서 한 번에 대용량 데이터를 처리하는 것도 !

<aside>
💡 경헌하고 싶은 핵심 기능 <br>
- 대용량 트래픽<br>
- 동시성 처리<Br>
- 트랜잭션 무결성<br>
- 부동소수점(Bicdecimal)을 통해 결제 금액 정확성 높이기<br>
- 자동화와 환경설정 이미지화<br>
- 로드밸런스를 통해 무중단 배포 
   및 분산 서버

</aside>

<br><br>

DB 스케일 아웃 예상
    
    1️⃣ PostgreSql로 시작 
    
    2️⃣ 검색  ⇒ ElasticSearch ,  샤딩으로 부하분산 해결
    
    3️⃣ 싱글스레드 Redis에 캐시로 저장
    
    4️⃣ 몽고DB도입으로 동적인 스키마를 활용하여 다양한 데이터 수집 
    
    5️⃣ RabbitMQ 도입으로 비동기 방식 메시지 브로커 처리 도입
    
    6️⃣ Kafka 도입
    

### ✅ 코드 컨벤션

`Google code Style` 준수하고 싶습니당.

### ✅ 성능 최적화

- 서버 부하를 줄이기 위해 `캐싱 서버 적극 활용`

### ✅ 브랜치 관리 전략

`Git Flow`를 사용하여 `브랜치를 관리` 

모든 브랜치는 Pull Request에 리뷰를 진행 한 후 merge를 진행

- Master : 배포시 사용.
- Develop : 완전히 개발이 끝난 부분에 대해서만 Merge를 진행.
- Feature : 기능 개발을 진행할 때 브랜치로 사용
- Release : 배포를 준비할 때 사용.
- Hot-Fix : 배포를 진행한 후 발생한 버그를 수정해야 할 때 사용.

### ✅ 테스트

- Mockito Framework를 활용하여 테스트 코드를 작성
- Jenkins CI를 적용하여 테스트 자동화 (github action이 더 좋을지 고민중입니다)

### ✅ 성능 테스트

- NGrinder를 설치

### ✅ CI/CD

<aside>
💡 1. Commit을 하면 Github에서 Jenkins 서버로 Hook 날림
2. Jenkins에서 Test를 진행 후 Docker 이미지 제작 
3. 메인 서버로 배포

</aside>

### ✅ 사용 기술 및 환경

- spring boot 3.x
- Maven
- Redis
- Docker
- PostgreSql
- Jenkins
- Java17
- Jpa